<html>

<head>
</head>

<body>
    <script>

        //Ex 1

        function doSomeComplexMath(value) {
            return new Promise((res, rej) => {
                setTimeout(() => {
                    let result = value + 2;
                    res(result);
                    rej();
                }, 1000)
            })
        }

        // async function asyncFunc() {
        //     try {
        //         let result = await doSomeComplexMath(2);
        //         console.log(result)
        //     } catch (error) {
        //         console.log(error)
        //     }

        // }

        // asyncFunc();


        //Ex 2

        // async function runAsyncTasks() {
        //     const res1 = await doSomeComplexMath(0);
        //     const res2 = await doSomeComplexMath(res1);
        //     const res3 = await doSomeComplexMath(res2);
        //     return "Everything done"
        // }

        // // Explain no Promise ??!?!?! still use then
        // runAsyncTasks().then(result => console.log(result));

        //Ex 3

        async function getUsers() {
            //return [{ name: 'Andor' }]
            throw new Error('The code ')
        }

        async function getFirstUser() {
            try {
                 let users = await getUsers();
                //let users = await getBasdasd();
                return users[0].name;
            } catch (err) {
                //return err;
                return {
                    name: 'default user'
                };
            }
        }

        getFirstUser().then(resp => console.log(resp));


    </script>
</body>

</html>